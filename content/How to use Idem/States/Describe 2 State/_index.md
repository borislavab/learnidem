---
title: "Describe 2 State"
weight: 45
---

You probably noticed that when you execute a [describe](/How-to-use-Idem/Describe/) operation from the CLI, the output resembles the same  kind of data we have defined in states examples, that is because it is exactly the same, meaning, you don't need to start from scratch to create, modify or even delete resources, you can simply issue the [describe](/How-to-use-Idem/Describe/) operation and save the output into an SLS file then "tweak" accordingly to meet your intention.

Let's see it with two different Azure resources

{{< tabs "Resources" >}}
{{< tab "Resource Group" >}}

Let's say we want to add a new Azure resource group, for that I could simply describe an existing "Azure Resource Group Name" and save the output into a SLS file.

```shell
 idem describe azure.resource_management.resource_groups --filter="[?resource[?resource_group_name=='<Existing Azure Resource Group Name>']]" >> <states folder>/my_other_resource_group_state.sls
```

Then we can edit the file, removing any property we don't need, "Provision States" sentences and "ID" entries, including any long names with specific "IDs", as they are generated by the system, then updating the relevant ones, such as the name or the region, or any parameter associated to the new resource.<br>
Please note that when editing, you always need to include the minimum parameters to create any given resource (Azure Plug-In Documentation and even Azure Cloud API documentation provides details in this regard).

 ```yaml
<New Azure Resource Group Name>:
  azure.resource_management.resource_groups.present:
  - resource_group_name: <New Azure Resource Group Name>
  - parameters:
      location: <Azure Region>
      name: <New Azure Resource Group Name>
      properties:
      tags: 
        <tag name>: <tag value>
        <tag name X>: <tag value X>
      type: Microsoft.Resources/resourceGroups
```
Of course you can use an existing SLS File, e.g. you may have all your Resource Groups in one single SLS State file.
Please make sure to indicate the state directive [present](/How-to-use-Idem/States/Present/), for instructing idem to <b>create</b> a new resource group in Azure.

Then <b>State</b> file can be executed with:

```shell
idem state <file_path>/my_other_resource_group_state.sls
```
In this example:

```shell
idem state states/my_other_resource_group_state.sls
```
After that you will see Idem creating a new resource to meet our new intention and state.

State "Describe 2 State":
<script id="asciicast-Kt6u7T78eZnRAgkfgzy86ggen" src="https://asciinema.org/a/Kt6u7T78eZnRAgkfgzy86ggen.js" async theme="asciinema" data-autoplay="true" data-size="small" loop="true"></script>

{{< /tab >}}
{{< tab "Virtual Network" >}}

What about an Azure Virtual Network? Once again, I could simply describe an existing "Azure Virtual Network Name" and save the output into a SLS file.

```shell
 idem describe azure.virtual_networks.virtual_networks --filter="[?resource[?virtual_network_name=='<Existing Azure Virtual Network Name>']]" >> <states folder>/my_other_virtual_network_state.sls
```

Then we can edit the file, removing any property we don't need, "Provision States" sentences and "ID" entries, including any long names with specific "IDs", as they are generated by the system, then updating the relevant ones, such as the name or the region, or any parameter associated to the new resource.<br>
Please note that when editing, you always need to include the minimum parameters to create any given resource (Azure Plug-In Documentation and even Azure Cloud API documentation provides details in this regard).

 ```yaml
<New Azure Virtual Network Name>:
  azure.virtual_networks.virtual_networks.present:
  - resource_group_name: <Azure Resource Group Name>
  - virtual_network_name: <New Azure Virtual Network Name>
  - parameters:
      location: <Azure Region>
      name: <New Azure Virtual Network Name>
      properties:
        addressSpace:
          addressPrefixes:
          - 10.0.0.0/24
        enableDdosProtection: false
```
Of course you can use an existing SLS File, e.g. you may have all your Resource Groups in one single SLS State file.
Please make sure to indicate the state directive [present](/How-to-use-Idem/States/Present/), for instructing idem to <b>create</b> a new resource group in Azure.

Then <b>State</b> file can be executed with:

```shell
idem state <file_path>/my_other_virtual_network_state.sls
```
In this example:

```shell
idem state states/my_other_virtual_network_state.sls
```
After that you will see Idem creating a new virtual network resource to meet our new intention and state.


{{< /tab >}}
{{< /tabs >}}
